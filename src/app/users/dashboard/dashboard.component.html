<div class="page-title">
    <div class="page-title-item-wrap">
        <h1 class="page-title-item">Dashboard of users</h1>
    </div>
</div>

<div *ngIf="users; else loading">
    <table  class="table user-dashboard">
        <thead class="table-head">
            <tr>
                <th class="cell-head">Username</th>
                <th class="cell-head">Roles</th>
            </tr>
        </thead>
        <tbody class="table-body">
            <tr *ngFor="let user of users; let id = index">
                <td class="cell-body table-cell-username">
                    {{ user.username }}
                </td>
                <td class="cell-body table-cell-roles" *ngFor="let role of user.roles">
                    {{ role.name.replace('ROLE_', "") }}; 
                </td>
                <td class="cell-body user-button-container"> 
                    <button class="btn-table-edit" type="button" [routerLink]="['/users', 'user', user.id, 'orders']" title="Open orders of user">Orders</button>
                    <button class="btn-table-edit" type="button" [routerLink]="['/users', 'user', user.id, 'edit']" title="Open for edit">Open</button>
                    <img class="icon-table-delete" src="/assets/img/delete.png" (click)="openDialog(user.id, user.roles)" alt="delete" title="Delete user" >
                </td>
            </tr>
        </tbody>
    </table>
    <app-scroll-buttons></app-scroll-buttons>
</div>

<ng-template #loading>
    <p class="loading">Loading...</p>
</ng-template>

